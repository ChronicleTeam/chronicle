{
  "openapi": "3.1.0",
  "info": {
    "title": "Chronicle back-end",
    "summary": "Application for managing tabular data and creating dashboards.",
    "version": ""
  },
  "paths": {
    "/api/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "login",
        "description": "Login the user from the credentials.",
        "requestBody": {
          "description": "Credentials request type.",
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Credentials"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "400": {
            "description": "User is already authenticated"
          },
          "422": {
            "description": "Invalid credentials",
            "content": {
              "text/plain; charset=utf-8": {}
            }
          }
        }
      }
    },
    "/api/logout": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "logout",
        "description": "Logout the user. Does nothing if the user is not logged in.",
        "responses": {
          "200": {
            "description": "Success"
          }
        }
      }
    },
    "/api/user": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "get_auth_user",
        "description": "Get the currently logged in user or nothing if not logged in.",
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/UserResponse"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/users": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "get_all_users",
        "description": "Retrieve all users. Requires admin privileges.",
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "403": {
            "description": "User is not an admin"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "create_user",
        "description": "Create a new user. Requires admin priviledges.",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/CreateUser"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "403": {
            "description": "User is not an admin"
          },
          "409": {
            "description": "Username is taken"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/users/{user_id}": {
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "delete_user",
        "description": "Delete a user. Requires admin privileges.",
        "parameters": [
          {
            "in": "path",
            "name": "user_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "responses": {
          "200": {
            "description": "Success"
          },
          "401": {
            "description": "User is not authenticated"
          },
          "403": {
            "description": "User is not an admin"
          },
          "404": {
            "description": "User not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Users"
        ],
        "summary": "update_user",
        "description": "Update the user's username of password. Requires admin privileges.",
        "parameters": [
          {
            "in": "path",
            "name": "user_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUser"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "403": {
            "description": "User is not an admin"
          },
          "404": {
            "description": "User not found"
          },
          "409": {
            "description": "Username is taken"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/tables": {
      "get": {
        "tags": [
          "Tables"
        ],
        "summary": "get_tables",
        "description": "Get all tables viewable to the user.",
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GetTable"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Tables"
        ],
        "summary": "create_table",
        "description": "Create an empty user table.",
        "requestBody": {
          "description": "Create table request.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTable"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Table"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Parent table not found"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/tables/{table_id}": {
      "delete": {
        "tags": [
          "Tables"
        ],
        "summary": "delete_table",
        "description": "Delete a table, including all fields and entries.",
        "parameters": [
          {
            "in": "path",
            "name": "table_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "responses": {
          "200": {
            "description": "Success"
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found"
          },
          "403": {
            "description": "Required access roles: Table: Owner"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Tables"
        ],
        "summary": "update_table",
        "description": "Update a table's meta data.",
        "parameters": [
          {
            "in": "path",
            "name": "table_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "requestBody": {
          "description": "Update table request.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTable"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Table"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found"
          },
          "403": {
            "description": "Required access roles: Table: Owner"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/tables/{table_id}/children": {
      "get": {
        "tags": [
          "Tables"
        ],
        "summary": "get_table_children",
        "description": "Get all table children for the specified table.",
        "parameters": [
          {
            "in": "path",
            "name": "table_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Table"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found"
          },
          "403": {
            "description": "Required access roles: Table: Viewer"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/tables/{table_id}/data": {
      "get": {
        "tags": [
          "Tables"
        ],
        "summary": "get_table_data",
        "description": "Get all the meta data, fields, and entries of a table.",
        "parameters": [
          {
            "in": "path",
            "name": "table_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetTableData"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found"
          },
          "403": {
            "description": "Required access roles: Table: Viewer"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/tables/excel": {
      "post": {
        "tags": [
          "Tables"
        ],
        "summary": "import_table_from_excel",
        "description": "Takes an Excel file and attempts to convert it into a table.",
        "requestBody": {
          "description": "multipart form data",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "array"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GetTableData"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "400": {
            "description": "Multipart has zero fields"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/tables/{table_id}/excel": {
      "post": {
        "tags": [
          "Tables"
        ],
        "summary": "export_table_to_excel",
        "description": "Converts the specified table into an Excel file. Can optionally take an input Excel file in which to add the table to.",
        "parameters": [
          {
            "in": "path",
            "name": "table_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "requestBody": {
          "description": "multipart form data",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "array"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/octet-stream": {}
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found"
          },
          "403": {
            "description": "Required access roles: Table: Viewer"
          },
          "400": {
            "description": "Multipart has zero fields"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/tables/csv": {
      "post": {
        "tags": [
          "Tables"
        ],
        "summary": "import_table_from_csv",
        "description": "Takes a CSV file and attempts to convert it into a table.",
        "requestBody": {
          "description": "multipart form data",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "array"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetTableData"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "400": {
            "description": "Multipart has zero fields"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/tables/{table_id}/csv": {
      "post": {
        "tags": [
          "Tables"
        ],
        "summary": "export_table_to_csv",
        "description": "Converts the specified table into a CSV file.",
        "parameters": [
          {
            "in": "path",
            "name": "table_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/octet-stream": {}
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found"
          },
          "403": {
            "description": "Required access roles: Table: Viewer"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/tables/{table_id}/fields": {
      "get": {
        "tags": [
          "Fields"
        ],
        "summary": "get_fields",
        "description": "Get all fields in a table.",
        "parameters": [
          {
            "in": "path",
            "name": "table_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Field"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found\n\nField not found"
          },
          "403": {
            "description": "Required access roles: Table: Viewer"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Fields"
        ],
        "summary": "create_field",
        "description": "Create a field in a table.",
        "parameters": [
          {
            "in": "path",
            "name": "table_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "requestBody": {
          "description": "Create field request.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateField"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Field"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found"
          },
          "422": {
            "description": "Range start bound is greater than end bound",
            "content": {
              "text/plain; charset=utf-8": {}
            }
          },
          "403": {
            "description": "Required access roles: Table: Owner"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/tables/{table_id}/fields/{field_id}": {
      "delete": {
        "tags": [
          "Fields"
        ],
        "summary": "delete_field",
        "description": "Delete a field and all cells in its respective column in the table.",
        "parameters": [
          {
            "in": "path",
            "name": "field_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          },
          {
            "in": "path",
            "name": "table_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "responses": {
          "200": {
            "description": "Success"
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found\n\nField not found"
          },
          "403": {
            "description": "Required access roles: Table: Owner"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Fields"
        ],
        "summary": "update_field",
        "description": "Update a field's metadata in a table.",
        "parameters": [
          {
            "in": "path",
            "name": "field_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          },
          {
            "in": "path",
            "name": "table_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "requestBody": {
          "description": "Update field request.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateField"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Field"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found\n\nField not found"
          },
          "422": {
            "description": "Range start bound is greater than end bound",
            "content": {
              "text/plain; charset=utf-8": {}
            }
          },
          "403": {
            "description": "Required access roles: Table: Owner"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/tables/{table_id}/fields/order": {
      "patch": {
        "tags": [
          "Fields"
        ],
        "summary": "set_field_order",
        "description": "Set the order of all fields in a table. Ordering numbers must go from `0` to `n-1` where `n` is the total number of fields",
        "parameters": [
          {
            "in": "path",
            "name": "table_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "requestBody": {
          "description": "Set the field order request.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetFieldOrder"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Field"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found\n\nField not found"
          },
          "422": {
            "description": "<field_id>: Field ID not found\n\n<field_id>: Ordering number does not follow the sequence",
            "content": {
              "text/plain; charset=utf-8": {}
            }
          },
          "403": {
            "description": "Required access roles: Table: Owner"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/tables/{table_id}/entries": {
      "post": {
        "tags": [
          "Entries"
        ],
        "summary": "create_entries",
        "description": "Create many entries in a table. Can optionally take a parent entry ID.",
        "requestBody": {
          "description": "Create entry request. Keys map to field IDs.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEntries"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found"
          },
          "422": {
            "description": "<field_id> : A value is required\n\n<field_id> : Value is not the correct type\n\n<field_id> : Enumeration value is does not exist\n\n<field_id> : Field ID key is invalid\n\nThis table has no parent table\n\nEntry parent ID not found",
            "content": {
              "text/plain; charset=utf-8": {}
            }
          },
          "403": {
            "description": "Required access roles: Table: Editor"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/tables/{table_id}/entries/{entry_id}": {
      "delete": {
        "tags": [
          "Entries"
        ],
        "summary": "delete_entry",
        "description": "Delete an entry from a table.",
        "responses": {
          "200": {
            "description": "Success"
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found\n\nEntry not found"
          },
          "403": {
            "description": "Required access roles: Table: Editor"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Entries"
        ],
        "summary": "update_entry",
        "description": "Update an entry in a table. Can optionally take a parent entry ID.",
        "requestBody": {
          "description": "Update entry request. Keys map to field IDs.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateEntry"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success"
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Table not found\n\nEntry not found"
          },
          "422": {
            "description": "A value is required\n\nValue is not the correct type\n\nEnumeration value is does not exist\n\nField ID key is invalid\n\nThis table has no parent table\n\nEntry parent ID not found",
            "content": {
              "text/plain; charset=utf-8": {}
            }
          },
          "403": {
            "description": "Required access roles: Table: Editor"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/dashboards": {
      "get": {
        "tags": [
          "Dashboards"
        ],
        "summary": "get_dashboards",
        "description": "Get all dashboards viewable to the user.",
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Dashboard"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Dashboards"
        ],
        "summary": "create_dashboard",
        "description": "Create a blank dashboard.",
        "requestBody": {
          "description": "Create dashboard request.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDashboard"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Dashboard"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/dashboards/{dashboard_id}": {
      "delete": {
        "tags": [
          "Dashboards"
        ],
        "summary": "delete_dashboard",
        "description": "Delete a dashboard and all of it's charts and axes.",
        "parameters": [
          {
            "in": "path",
            "name": "dashboard_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "responses": {
          "200": {
            "description": "Success"
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Dashboard not found"
          },
          "403": {
            "description": "Required access roles: Dashboard: Owner"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Dashboards"
        ],
        "summary": "update_dashboard",
        "description": "Update a dashboard's metadata.",
        "parameters": [
          {
            "in": "path",
            "name": "dashboard_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "requestBody": {
          "description": "Update dashboard request.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateDashboard"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Dashboard"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Dashboard not found"
          },
          "403": {
            "description": "Required access roles: Dashboard: Owner"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/dashboards/{dashboard_id}/charts": {
      "get": {
        "tags": [
          "Charts"
        ],
        "summary": "get_charts",
        "description": "Get all charts for this dashboard.",
        "parameters": [
          {
            "in": "path",
            "name": "dashboard_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Chart"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Dashboard not found"
          },
          "403": {
            "description": "Required access roles: Dashboard: Viewer"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Charts"
        ],
        "summary": "create_chart",
        "description": "Create a blank chart.",
        "parameters": [
          {
            "in": "path",
            "name": "dashboard_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "requestBody": {
          "description": "Create chart request.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateChart"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Chart"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Dashboard not found\n\nTable not found"
          },
          "403": {
            "description": "Required access roles: Dashboard: Editor, Table: Viewer"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/dashboards/{dashboard_id}/charts/{chart_id}": {
      "delete": {
        "tags": [
          "Charts"
        ],
        "summary": "delete_chart",
        "description": "Delete a chart and its axes.",
        "parameters": [
          {
            "in": "path",
            "name": "chart_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          },
          {
            "in": "path",
            "name": "dashboard_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "responses": {
          "200": {
            "description": "Success"
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Dashboard not found\n\nChart not found"
          },
          "403": {
            "description": "Required access roles: Dashboard: Editor"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Charts"
        ],
        "summary": "update_chart",
        "description": "Update a chart's metadata.",
        "parameters": [
          {
            "in": "path",
            "name": "chart_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          },
          {
            "in": "path",
            "name": "dashboard_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "requestBody": {
          "description": "Update chart request.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateChart"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Chart"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Dashboard not found\n\nChart not found"
          },
          "403": {
            "description": "Required access roles: Dashboard: Editor"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/dashboards/{dashboard_id}/charts/{chart_id}/data": {
      "get": {
        "tags": [
          "Charts"
        ],
        "summary": "get_chart_data",
        "description": "Get the chart's metadata, axes metadata, and data points.\n            Used for building and displaying the chart.",
        "parameters": [
          {
            "in": "path",
            "name": "chart_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          },
          {
            "in": "path",
            "name": "dashboard_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChartData"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Dashboard not found\n\nChart not found"
          },
          "403": {
            "description": "Required access roles: Dashboard: Viewer"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/api/dashboards/{dashboard_id}/charts/{chart_id}/axes": {
      "put": {
        "tags": [
          "Axes"
        ],
        "summary": "set_axes",
        "description": "Set all the axes of the specified chart and rebuild the dynamic view.",
        "parameters": [
          {
            "in": "path",
            "name": "chart_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          },
          {
            "in": "path",
            "name": "dashboard_id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            },
            "style": "simple"
          }
        ],
        "requestBody": {
          "description": "Set a chart's axis request.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetAxes"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Axis"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "404": {
            "description": "Dashboard not found\n\nChart not found"
          },
          "422": {
            "description": "<field_id> : Field not found\n\n<field_id> : Axis aggregate is invalid for this field",
            "content": {
              "text/plain; charset=utf-8": {}
            }
          },
          "403": {
            "description": "Required access roles: Dashboard: Editor"
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    }
  },
  "components": {
    "securitySchemes": {
      "cookieAuth": {
        "type": "apiKey",
        "in": "cookie",
        "name": "id",
        "description": "Session cookie"
      }
    },
    "schemas": {
      "AccessRole": {
        "type": "string",
        "enum": [
          "Viewer",
          "Editor",
          "Owner"
        ]
      },
      "Aggregate": {
        "description": "The aggregate function of the axis.",
        "type": "string",
        "enum": [
          "Sum",
          "Average",
          "Min",
          "Max",
          "Count"
        ]
      },
      "Axis": {
        "description": "Chart axis entity.",
        "type": "object",
        "properties": {
          "aggregate": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Aggregate"
              },
              {
                "type": "null"
              }
            ]
          },
          "axis_id": {
            "type": "integer",
            "format": "int32"
          },
          "axis_kind": {
            "$ref": "#/components/schemas/AxisKind"
          },
          "chart_id": {
            "type": "integer",
            "format": "int32"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "field_id": {
            "type": "integer",
            "format": "int32"
          },
          "updated_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          }
        },
        "required": [
          "axis_id",
          "chart_id",
          "field_id",
          "axis_kind",
          "created_at"
        ]
      },
      "AxisField": {
        "description": "An axis and its associated field.",
        "type": "object",
        "properties": {
          "axis": {
            "$ref": "#/components/schemas/Axis"
          },
          "field_kind": {
            "$ref": "#/components/schemas/FieldKind"
          },
          "field_name": {
            "type": "string"
          }
        },
        "required": [
          "axis",
          "field_name",
          "field_kind"
        ]
      },
      "AxisKind": {
        "description": "The kind of axis for constructing the actual chart.",
        "type": "string",
        "enum": [
          "X",
          "Y",
          "Color",
          "Size",
          "Tooltip",
          "Label",
          "Detail"
        ]
      },
      "Cell": {
        "description": "This represents a cell in user entries and charts which can be any type.",
        "oneOf": [
          {
            "type": "string",
            "enum": [
              "Null"
            ]
          },
          {
            "type": "object",
            "properties": {
              "Integer": {
                "type": "integer",
                "format": "int64"
              }
            },
            "additionalProperties": false,
            "required": [
              "Integer"
            ]
          },
          {
            "type": "object",
            "properties": {
              "Float": {
                "type": "number",
                "format": "double"
              }
            },
            "additionalProperties": false,
            "required": [
              "Float"
            ]
          },
          {
            "type": "object",
            "properties": {
              "Decimal": {
                "type": [
                  "string",
                  "number"
                ],
                "pattern": "^-?[0-9]+(\\.[0-9]+)?([eE][0-9]+)?$"
              }
            },
            "additionalProperties": false,
            "required": [
              "Decimal"
            ]
          },
          {
            "type": "object",
            "properties": {
              "Boolean": {
                "type": "boolean"
              }
            },
            "additionalProperties": false,
            "required": [
              "Boolean"
            ]
          },
          {
            "type": "object",
            "properties": {
              "DateTime": {
                "type": "string",
                "format": "date-time"
              }
            },
            "additionalProperties": false,
            "required": [
              "DateTime"
            ]
          },
          {
            "type": "object",
            "properties": {
              "String": {
                "type": "string"
              }
            },
            "additionalProperties": false,
            "required": [
              "String"
            ]
          }
        ]
      },
      "Chart": {
        "description": "Dashboard chart entity.",
        "type": "object",
        "properties": {
          "chart_id": {
            "type": "integer",
            "format": "int32"
          },
          "chart_kind": {
            "$ref": "#/components/schemas/ChartKind"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "dashboard_id": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "type": "string"
          },
          "table_id": {
            "type": "integer",
            "format": "int32"
          },
          "updated_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          }
        },
        "required": [
          "chart_id",
          "dashboard_id",
          "table_id",
          "name",
          "chart_kind",
          "created_at"
        ]
      },
      "ChartData": {
        "description": "Response for fetching entire chart data.",
        "type": "object",
        "properties": {
          "axes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AxisField"
            }
          },
          "cells": {
            "type": "array",
            "items": {
              "type": "object",
              "additionalProperties": {
                "$ref": "#/components/schemas/Cell"
              }
            }
          },
          "chart": {
            "$ref": "#/components/schemas/Chart"
          }
        },
        "required": [
          "chart",
          "axes",
          "cells"
        ]
      },
      "ChartKind": {
        "description": "The kind of chart to display.",
        "type": "string",
        "enum": [
          "Table",
          "Bar",
          "Line"
        ]
      },
      "CreateAxis": {
        "description": "Create axis request.",
        "type": "object",
        "properties": {
          "aggregate": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Aggregate"
              },
              {
                "type": "null"
              }
            ]
          },
          "axis_kind": {
            "$ref": "#/components/schemas/AxisKind"
          },
          "field_id": {
            "type": "integer",
            "format": "int32"
          }
        },
        "required": [
          "field_id",
          "axis_kind"
        ]
      },
      "CreateChart": {
        "description": "Create chart request.",
        "type": "object",
        "properties": {
          "chart_kind": {
            "$ref": "#/components/schemas/ChartKind"
          },
          "name": {
            "type": "string"
          },
          "table_id": {
            "type": "integer",
            "format": "int32"
          }
        },
        "required": [
          "table_id",
          "name",
          "chart_kind"
        ]
      },
      "CreateDashboard": {
        "description": "Create dashboard request.",
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "description"
        ]
      },
      "CreateEntries": {
        "description": "Create entry request. Keys map to field IDs.",
        "type": "object",
        "properties": {
          "entries": {
            "type": "array",
            "items": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "parent_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32"
          }
        },
        "required": [
          "entries"
        ]
      },
      "CreateField": {
        "description": "Create field request.",
        "type": "object",
        "properties": {
          "field_kind": {
            "$ref": "#/components/schemas/FieldKind"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "field_kind"
        ]
      },
      "CreateTable": {
        "description": "Create table request.",
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "parent_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32"
          }
        },
        "required": [
          "name",
          "description"
        ]
      },
      "CreateUser": {
        "type": "object",
        "properties": {
          "password": {
            "type": "string"
          },
          "username": {
            "type": "string"
          }
        },
        "required": [
          "username",
          "password"
        ]
      },
      "Credentials": {
        "description": "Credentials request type.",
        "type": "object",
        "properties": {
          "password": {
            "type": "string"
          },
          "username": {
            "type": "string"
          }
        },
        "required": [
          "username",
          "password"
        ]
      },
      "Dashboard": {
        "description": "Dashboard entity",
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "dashboard_id": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "type": "string"
          },
          "updated_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          }
        },
        "required": [
          "dashboard_id",
          "name",
          "description",
          "created_at"
        ]
      },
      "Entry": {
        "description": "Table entry entity.",
        "type": "object",
        "properties": {
          "cells": {
            "description": "Keys map to field IDs.",
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/Cell"
            }
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "entry_id": {
            "type": "integer",
            "format": "int32"
          },
          "parent_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32"
          },
          "updated_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          }
        },
        "required": [
          "entry_id",
          "created_at",
          "cells"
        ]
      },
      "Field": {
        "description": "Table field entity.",
        "type": "object",
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "field_id": {
            "type": "integer",
            "format": "int32"
          },
          "field_kind": {
            "$ref": "#/components/schemas/FieldKind"
          },
          "name": {
            "type": "string"
          },
          "ordering": {
            "type": "integer",
            "format": "int32"
          },
          "table_id": {
            "type": "integer",
            "format": "int32"
          },
          "updated_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          }
        },
        "required": [
          "field_id",
          "table_id",
          "name",
          "ordering",
          "field_kind",
          "created_at"
        ]
      },
      "FieldKind": {
        "description": "The field kind and associated options.",
        "oneOf": [
          {
            "description": "Raw text data.",
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "Text"
              },
              "is_required": {
                "type": "boolean"
              }
            },
            "required": [
              "type",
              "is_required"
            ]
          },
          {
            "description": "An integer.",
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "Integer"
              },
              "is_required": {
                "type": "boolean"
              },
              "range_end": {
                "type": [
                  "integer",
                  "null"
                ],
                "format": "int64"
              },
              "range_start": {
                "type": [
                  "integer",
                  "null"
                ],
                "format": "int64"
              }
            },
            "required": [
              "type",
              "is_required"
            ]
          },
          {
            "description": "A floating-point number.",
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "Float"
              },
              "is_required": {
                "type": "boolean"
              },
              "range_end": {
                "type": [
                  "number",
                  "null"
                ],
                "format": "double"
              },
              "range_start": {
                "type": [
                  "number",
                  "null"
                ],
                "format": "double"
              }
            },
            "required": [
              "type",
              "is_required"
            ]
          },
          {
            "description": "A type for fixed precision money.",
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "Money"
              },
              "is_required": {
                "type": "boolean"
              },
              "range_end": {
                "type": [
                  "string",
                  "number",
                  "null"
                ],
                "pattern": "^-?[0-9]+(\\.[0-9]+)?([eE][0-9]+)?$"
              },
              "range_start": {
                "type": [
                  "string",
                  "number",
                  "null"
                ],
                "pattern": "^-?[0-9]+(\\.[0-9]+)?([eE][0-9]+)?$"
              }
            },
            "required": [
              "type",
              "is_required"
            ]
          },
          {
            "description": "A discrete progress ratio.",
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "Progress"
              },
              "total_steps": {
                "type": "integer",
                "format": "int64"
              }
            },
            "required": [
              "type",
              "total_steps"
            ]
          },
          {
            "description": "An ISO 8601 date and time.",
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "DateTime"
              },
              "is_required": {
                "type": "boolean"
              },
              "range_end": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "date-time"
              },
              "range_start": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "date-time"
              }
            },
            "required": [
              "type",
              "is_required"
            ]
          },
          {
            "description": "A URL.",
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "WebLink"
              },
              "is_required": {
                "type": "boolean"
              }
            },
            "required": [
              "type",
              "is_required"
            ]
          },
          {
            "description": "A true or false value.",
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "Checkbox"
              }
            },
            "required": [
              "type"
            ]
          },
          {
            "description": "A value out of a list of possible text values.",
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "Enumeration"
              },
              "default_value": {
                "type": "integer",
                "format": "int64"
              },
              "is_required": {
                "type": "boolean"
              },
              "values": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                }
              }
            },
            "required": [
              "type",
              "is_required",
              "values",
              "default_value"
            ]
          }
        ]
      },
      "GetDashboard": {
        "type": "object",
        "properties": {
          "access_role": {
            "$ref": "#/components/schemas/AccessRole"
          },
          "dashboard": {
            "$ref": "#/components/schemas/Dashboard"
          }
        },
        "required": [
          "dashboard",
          "access_role"
        ]
      },
      "GetTable": {
        "type": "object",
        "properties": {
          "access_role": {
            "$ref": "#/components/schemas/AccessRole"
          },
          "table": {
            "$ref": "#/components/schemas/Table"
          }
        },
        "required": [
          "table",
          "access_role"
        ]
      },
      "GetTableData": {
        "type": "object",
        "properties": {
          "access_role": {
            "$ref": "#/components/schemas/AccessRole"
          },
          "table_data": {
            "$ref": "#/components/schemas/TableData"
          }
        },
        "required": [
          "table_data",
          "access_role"
        ]
      },
      "SelectChart": {
        "type": "object",
        "properties": {
          "chart_id": {
            "type": "integer",
            "format": "int32"
          },
          "dashboard_id": {
            "type": "integer",
            "format": "int32"
          }
        },
        "required": [
          "dashboard_id",
          "chart_id"
        ]
      },
      "SelectDashboard": {
        "type": "object",
        "properties": {
          "dashboard_id": {
            "type": "integer",
            "format": "int32"
          }
        },
        "required": [
          "dashboard_id"
        ]
      },
      "SelectField": {
        "type": "object",
        "properties": {
          "field_id": {
            "type": "integer",
            "format": "int32"
          },
          "table_id": {
            "type": "integer",
            "format": "int32"
          }
        },
        "required": [
          "table_id",
          "field_id"
        ]
      },
      "SelectTable": {
        "type": "object",
        "properties": {
          "table_id": {
            "type": "integer",
            "format": "int32"
          }
        },
        "required": [
          "table_id"
        ]
      },
      "SelectUser": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "integer",
            "format": "int32"
          }
        },
        "required": [
          "user_id"
        ]
      },
      "SetAxes": {
        "description": "Set a chart's axis request.",
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/CreateAxis"
        }
      },
      "SetFieldOrder": {
        "description": "Set the field order request.",
        "type": "object",
        "additionalProperties": {
          "type": "integer",
          "format": "int32"
        }
      },
      "Table": {
        "description": "User table entity.",
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "name": {
            "type": "string"
          },
          "parent_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32"
          },
          "table_id": {
            "type": "integer",
            "format": "int32"
          },
          "updated_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          }
        },
        "required": [
          "table_id",
          "name",
          "description",
          "created_at"
        ]
      },
      "TableData": {
        "description": "Response for fetching entire table data.",
        "type": "object",
        "properties": {
          "children": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TableData"
            }
          },
          "entries": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          },
          "fields": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Field"
            }
          },
          "table": {
            "$ref": "#/components/schemas/Table"
          }
        },
        "required": [
          "table",
          "fields",
          "entries",
          "children"
        ]
      },
      "UpdateChart": {
        "description": "Update chart request.",
        "type": "object",
        "properties": {
          "chart_kind": {
            "$ref": "#/components/schemas/ChartKind"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "chart_kind"
        ]
      },
      "UpdateDashboard": {
        "description": "Update dashboard request.",
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "description"
        ]
      },
      "UpdateEntry": {
        "description": "Update entry request. Keys map to field IDs.",
        "type": "object",
        "properties": {
          "cells": {
            "type": "object",
            "additionalProperties": true
          },
          "parent_id": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32"
          }
        },
        "required": [
          "cells"
        ]
      },
      "UpdateField": {
        "description": "Update field request.",
        "type": "object",
        "properties": {
          "field_kind": {
            "$ref": "#/components/schemas/FieldKind"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "field_kind"
        ]
      },
      "UpdateTable": {
        "description": "Update table request.",
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "description"
        ]
      },
      "UpdateUser": {
        "type": "object",
        "properties": {
          "password": {
            "type": [
              "string",
              "null"
            ]
          },
          "username": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "UserResponse": {
        "description": "User response type.",
        "type": "object",
        "properties": {
          "is_admin": {
            "type": "boolean"
          },
          "user_id": {
            "type": "integer",
            "format": "int32"
          },
          "username": {
            "type": "string"
          }
        },
        "required": [
          "user_id",
          "username",
          "is_admin"
        ]
      }
    }
  },
  "security": [
    {
      "cookieAuth": []
    }
  ]
}